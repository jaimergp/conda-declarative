{
  "$defs": {
    "Author": {
      "additionalProperties": false,
      "description": "Metadata to describe a single author or maintainer.",
      "properties": {
        "email": {
          "description": "E-mail address for the author or team.",
          "format": "email",
          "title": "Email",
          "type": "string"
        },
        "name": {
          "description": "Name of the author or team.",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name",
        "email"
      ],
      "title": "Author",
      "type": "object"
    },
    "ChannelPriority": {
      "enum": [
        "strict",
        "flexible",
        "disabled"
      ],
      "title": "ChannelPriority",
      "type": "string"
    },
    "CondaConfig": {
      "description": "Conda configuration for this project.\nOnly a subset of the full `.condarc` settings is allowed. Additional keys can be added but will be ignored in `conda`.",
      "properties": {
        "aggressive-update-packages": {
          "default": [],
          "description": "List of package names to always include in update requests.",
          "items": {
            "minLength": 1,
            "type": "string"
          },
          "title": "Aggressive-Update-Packages",
          "type": "array"
        },
        "channel-priority": {
          "anyOf": [
            {
              "$ref": "#/$defs/ChannelPriority"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What priority scheme to follow when solving with more than one channel."
        },
        "channel-settings": {
          "default": [],
          "description": "Per-channel configuration. The keys must be names mentioned in `channels`.",
          "items": {
            "additionalProperties": {
              "minLength": 1,
              "type": "string"
            },
            "propertyNames": {
              "minLength": 1
            },
            "type": "object"
          },
          "title": "Channel-Settings",
          "type": "array"
        },
        "channels": {
          "default": [],
          "description": "List of channels to obtain packages from.",
          "items": {
            "minLength": 1,
            "type": "string"
          },
          "title": "Channels",
          "type": "array"
        },
        "pinned-packages": {
          "additionalProperties": {
            "anyOf": [
              {
                "minLength": 1,
                "type": "string"
              },
              {
                "$ref": "#/$defs/CondaPackageConstraints"
              }
            ]
          },
          "default": {},
          "description": "Additional constraints to impose on the solver for conda dependencies.\nThese are not requirements, but will condition which packages are available for selection.",
          "propertyNames": {
            "minLength": 1
          },
          "title": "Pinned-Packages",
          "type": "object"
        },
        "platforms": {
          "default": [],
          "description": "Which platforms should be solved for this project. Defaults to the platform `conda` is running on, but can be extended to additional ones to, for example, generate lockfiles on each update.",
          "items": {
            "enum": [
              "emscripten-wasm32",
              "wasi-wasm32",
              "freebsd-64",
              "linux-32",
              "linux-64",
              "linux-aarch64",
              "linux-armv6l",
              "linux-armv7l",
              "linux-ppc64",
              "linux-ppc64le",
              "linux-riscv64",
              "linux-s390x",
              "osx-64",
              "osx-arm64",
              "win-32",
              "win-64",
              "win-arm64",
              "zos-z"
            ],
            "type": "string"
          },
          "title": "Platforms",
          "type": "array"
        },
        "repodata-fns": {
          "default": [],
          "description": "Repodata filenames to query in each channel. Usually, `repodata.json`.",
          "items": {
            "minLength": 1,
            "type": "string"
          },
          "title": "Repodata-Fns",
          "type": "array"
        },
        "sat-solver": {
          "anyOf": [
            {
              "$ref": "#/$defs/SatSolverChoice"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Which SAT backend to use for the `classic` solver plugin."
        },
        "solver": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Which solver plugin to use.",
          "title": "Solver"
        },
        "use-only-tar-bz2": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Ignore .conda artifacts and solve only with .tar.bz2. Legacy option, discouraged.",
          "title": "Use-Only-Tar-Bz2"
        }
      },
      "title": "CondaConfig",
      "type": "object"
    },
    "CondaPackageConstraints": {
      "additionalProperties": false,
      "description": "Constraints for conda packages.",
      "properties": {
        "build": {
          "default": "*",
          "minLength": 1,
          "title": "Build",
          "type": "string"
        },
        "channel": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Channel"
        },
        "version": {
          "default": "*",
          "minLength": 1,
          "title": "Version",
          "type": "string"
        }
      },
      "title": "CondaPackageConstraints",
      "type": "object"
    },
    "PlatformSpecificFields": {
      "additionalProperties": false,
      "description": "Platform-specific overrides.",
      "properties": {
        "config": {
          "anyOf": [
            {
              "$ref": "#/$defs/CondaConfig"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Configuration details for the install tool."
        },
        "dependencies": {
          "additionalProperties": {
            "anyOf": [
              {
                "minLength": 1,
                "type": "string"
              },
              {
                "$ref": "#/$defs/CondaPackageConstraints"
              }
            ]
          },
          "default": {},
          "description": "conda packages to install. It must be a mapping of package names to package versions. Use `*` for the version if any version works. The value can also be an object that specifies version, build and/or channel.",
          "propertyNames": {
            "minLength": 1
          },
          "title": "Dependencies",
          "type": "object"
        },
        "pypi-dependencies": {
          "additionalProperties": {
            "minLength": 1,
            "type": "string"
          },
          "default": {},
          "description": "PyPI packages to install. It must be a mapping of package names to package versions. Use `*` for the version if any version works.",
          "propertyNames": {
            "minLength": 1
          },
          "title": "Pypi-Dependencies",
          "type": "object"
        },
        "system-requirements": {
          "anyOf": [
            {
              "$ref": "#/$defs/SystemRequirements"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "help": "\nProperties of system features.\n\nThese will be exposed to the solver for the appropriate\nselection of package variants, usually as lower bounds.\n"
        }
      },
      "title": "PlatformSpecificFields",
      "type": "object"
    },
    "Project": {
      "additionalProperties": false,
      "description": "Metadata about for this manifest file. Mostly static.",
      "properties": {
        "authors": {
          "default": [],
          "description": "People or teams involved in the creation and maintenance of this file.",
          "items": {
            "$ref": "#/$defs/Author"
          },
          "title": "Authors",
          "type": "array"
        },
        "description": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "An optional free-form text field for maintainers to document this manifest file. Supports Markdown.",
          "title": "Description"
        },
        "license": {
          "description": "SPDX expression describing the license of this work.",
          "minLength": 1,
          "title": "License",
          "type": "string"
        },
        "license-files": {
          "default": [],
          "description": "List of paths to the license files governing this work.",
          "items": {
            "minLength": 1,
            "type": "string"
          },
          "title": "License-Files",
          "type": "array"
        },
        "name": {
          "description": "Name for this project.",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "revision": {
          "description": "A version-like string that allows maintainers to apply versioning schemes to this manifest file.",
          "minLength": 1,
          "title": "Revision",
          "type": "string"
        },
        "urls": {
          "additionalProperties": {
            "minLength": 1,
            "type": "string"
          },
          "default": {},
          "description": "Mapping of website names to their URL addresses.",
          "propertyNames": {
            "minLength": 1
          },
          "title": "Urls",
          "type": "object"
        }
      },
      "required": [
        "name",
        "revision",
        "license"
      ],
      "title": "Project",
      "type": "object"
    },
    "SatSolverChoice": {
      "enum": [
        "pycosat",
        "pycryptosat",
        "pysat"
      ],
      "title": "SatSolverChoice",
      "type": "string"
    },
    "SystemRequirements": {
      "additionalProperties": false,
      "description": "Properties of system features.\nThese will be exposed to the solver for the appropriate selection of package variants, usually as lower bounds.",
      "properties": {
        "archspec": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "System architecture name. Equivalent to setting `CONDA_OVERRIDE_ARCHSPEC`.",
          "title": "Archspec"
        },
        "cuda": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of CUDA. Equivalent to setting `CONDA_OVERRIDE_CUDA`.",
          "title": "Cuda"
        },
        "libc": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of the system libc (Linux only). Equivalent to setting `CONDA_OVERRIDE_GLIBC`.",
          "title": "Libc"
        },
        "linux": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of the Linux kernel. Equivalent to setting `CONDA_OVERRIDE_LINUX`.",
          "title": "Linux"
        },
        "osx": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of macOS. Equivalent to setting `CONDA_OVERRIDE_OSX`.",
          "title": "Osx"
        },
        "win": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Version of Windows in use. Equivalent to setting `CONDA_OVERRIDE_WIN`.",
          "title": "Win"
        }
      },
      "title": "SystemRequirements",
      "type": "object"
    }
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "description": "Schema for `conda.toml` manifest files.",
  "properties": {
    "$schema": {
      "default": "https://schemas.conda.org/conda/v0/conda-manifest.schema.json",
      "description": "JSON Schema URL or path used to validate this input file.",
      "minLength": 1,
      "title": "$Schema",
      "type": "string"
    },
    "about": {
      "$ref": "#/$defs/Project",
      "help": "\nMetadata about for this manifest file. Mostly static.\n"
    },
    "config": {
      "anyOf": [
        {
          "$ref": "#/$defs/CondaConfig"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Configuration details for the install tool."
    },
    "dependencies": {
      "additionalProperties": {
        "anyOf": [
          {
            "minLength": 1,
            "type": "string"
          },
          {
            "$ref": "#/$defs/CondaPackageConstraints"
          }
        ]
      },
      "default": {},
      "description": "conda packages to install. It must be a mapping of package names to package versions. Use `*` for the version if any version works. The value can also be an object that specifies version, build and/or channel.",
      "propertyNames": {
        "minLength": 1
      },
      "title": "Dependencies",
      "type": "object"
    },
    "platform": {
      "additionalProperties": {
        "$ref": "#/$defs/PlatformSpecificFields"
      },
      "default": {},
      "description": "Platform-specific details. Allows extending most top-level keys with items exclusively used when that platform is selected.",
      "propertyNames": {
        "enum": [
          "emscripten-wasm32",
          "wasi-wasm32",
          "freebsd-64",
          "linux-32",
          "linux-64",
          "linux-aarch64",
          "linux-armv6l",
          "linux-armv7l",
          "linux-ppc64",
          "linux-ppc64le",
          "linux-riscv64",
          "linux-s390x",
          "osx-64",
          "osx-arm64",
          "win-32",
          "win-64",
          "win-arm64",
          "zos-z"
        ]
      },
      "title": "Platform",
      "type": "object"
    },
    "pypi-dependencies": {
      "additionalProperties": {
        "minLength": 1,
        "type": "string"
      },
      "default": {},
      "description": "PyPI packages to install. It must be a mapping of package names to package versions. Use `*` for the version if any version works.",
      "propertyNames": {
        "minLength": 1
      },
      "title": "Pypi-Dependencies",
      "type": "object"
    },
    "system-requirements": {
      "anyOf": [
        {
          "$ref": "#/$defs/SystemRequirements"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "help": "\nProperties of system features.\n\nThese will be exposed to the solver for the appropriate\nselection of package variants, usually as lower bounds.\n"
    },
    "version": {
      "default": 0,
      "description": "Version of the conda.toml file format.",
      "minimum": 0,
      "title": "Version",
      "type": "integer"
    }
  },
  "required": [
    "about"
  ],
  "title": "CondaManifest",
  "type": "object"
}
